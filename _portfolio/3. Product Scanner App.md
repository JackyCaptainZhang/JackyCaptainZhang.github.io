---
title: "3.Product Scanner App"
excerpt: "A mobile product scanning system that uses OCR and AI to extract label information and upload structured data to the cloud for inventory management and quality control.<br/><img src=''>"
collection: portfolio
---

![Product Scanner App](/images/Product Scanner App.png)

## 1. Project Overview & Core Features

- **Objective**: Implement a comprehensive mobile product information scanning system that captures product labels, extracts text using OCR technology, analyzes the content with AI, and stores structured data to cloud storage for inventory management and quality control.

- **Core Workflow**: The app captures product images through camera or gallery, performs OCR text recognition, uses AI to extract and structure product information, allows manual verification and editing, and saves the data to cloud storage (WebDAV or Azure) in CSV format for further processing.

------

## 2. Technical Architecture

- **Frontend**: Flutter 3.3.1+ with Material Design 3 (Cross-platform mobile app)
- **State Management**: Provider pattern for reactive UI updates
- **Camera Integration**: Camera plugin for real-time image capture
- **OCR Processing**: Google ML Kit Text Recognition with Chinese script support
- **AI Analysis**: HTTP-based API integration with customizable prompts
- **Cloud Storage**: Dual support for WebDAV (坚果云) and Azure Blob Storage
- **Local Storage**: SharedPreferences for configuration persistence
- **Additional Libraries**: Path provider, Logger, CSV parser, HTTP client

------

## 3. Core Data Models & Storage Structure

- **Product Information**: Structured data including product name, material number, purchase order, quantity, supplier code, drawing number, version, production date, quality check, and storage date

- **Configuration Data**: AI API settings (key, endpoint), storage preferences (WebDAV/Azure), cloud storage credentials

- **CSV Data Structure**: Standardized CSV format with UTF-8 BOM encoding for Excel compatibility

- **Image Processing**: Temporary image storage with automatic cleanup

- **Settings Persistence**: Local configuration storage with secure credential management

------

## 4. Authentication & Security

- **API Security**: Bearer token authentication for AI service integration
- **Cloud Storage Security**: Credential-based authentication for WebDAV and Azure
- **Local Security**: Secure storage of sensitive configuration data
- **Permission Management**: Camera and storage permission handling
- **Error Handling**: Comprehensive error management with user-friendly messages

------

## 5. Flexibility & Maintainability

- **Modular Architecture**: Clean separation of concerns with dedicated services
- **Provider Pattern**: Centralized state management for easy maintenance
- **Service Abstraction**: Interchangeable storage backends (WebDAV/Azure)
- **Configuration Management**: Runtime configuration updates without app restart
- **Error Recovery**: Graceful error handling with retry mechanisms

------

## 6. Key Pages & Features

### Authentication & Setup
* **Initial Configuration**: Automatic redirection to settings if not configured
* **Settings Management**: Comprehensive configuration for AI and storage services
* **Storage Type Selection**: Toggle between WebDAV and Azure storage

### Scanning Interface
* **Camera Integration**: Real-time camera preview with capture functionality
* **Gallery Selection**: Alternative image source from device gallery
* **Image Processing**: OCR text recognition with Chinese script support
* **AI Analysis**: Intelligent text extraction and structuring

### Data Management
* **Manual Editing**: In-app data verification and correction
* **CSV Viewer**: Interactive spreadsheet-like interface for data review
* **Data Export**: Cloud storage integration with automatic CSV formatting
* **Quality Control**: Built-in data validation and error checking

### User Interface Features
* **Responsive Design**: Adaptive UI for different screen sizes
* **Material Design 3**: Modern, accessible interface design
* **Loading States**: Visual feedback during processing operations
* **Error Handling**: User-friendly error messages and recovery options

------

## 7. Advanced Features

- **Dual Storage Support**: Seamless switching between WebDAV and Azure storage
- **AI-Powered Analysis**: Intelligent text extraction using custom prompts
- **Real-time Processing**: Live camera preview with instant feedback
- **Data Validation**: Automatic field detection and validation
- **CSV Management**: Full CRUD operations on CSV data with Excel compatibility
- **BOM Encoding**: UTF-8 BOM support for proper Excel display
- **Batch Processing**: Efficient handling of multiple product scans
- **Offline Capability**: Local processing with cloud sync when available

------

## 8. Page Structure & Navigation

### Application Flow
- **App Launch**: Automatic configuration check and service initialization
- **Settings Redirect**: Automatic navigation to settings if not configured
- **Home Screen**: Main navigation hub with scanning and data viewing options
- **Configuration Validation**: Real-time validation of AI and storage settings

### Main Navigation
- **Home Screen**: Central hub with "开始扫描" and "查看数据" buttons
- **Settings Access**: Quick access via app bar icon
- **Back Navigation**: Standard Flutter navigation with proper state management

### Scanner Screen
- **Camera Preview**: Full-screen camera interface with capture controls
- **Gallery Access**: Photo library integration for existing images
- **Processing Interface**: Real-time OCR and AI analysis display
- **Data Verification**: Editable result display with manual correction
- **Save Confirmation**: "确定收货" button for final data submission

### Settings Screen
- **AI Configuration**: API key and endpoint setup
- **Storage Selection**: WebDAV vs Azure storage type selection
- **WebDAV Setup**: Username, password, and file path configuration
- **Azure Setup**: Connection string, container, and blob name configuration
- **Validation**: Real-time configuration validation and testing

### CSV Viewer Screen
- **Data Display**: Spreadsheet-like interface for CSV data
- **Interactive Editing**: In-place cell editing with validation
- **Data Persistence**: Automatic saving of changes to cloud storage
- **Error Handling**: Graceful handling of network and storage errors

### Data Processing Workflow
- **Image Capture**: Camera or gallery image selection
- **OCR Processing**: Text recognition with Chinese script support
- **AI Analysis**: Intelligent field extraction and structuring
- **Manual Verification**: User review and correction of extracted data
- **Cloud Storage**: Automatic CSV formatting and cloud upload
- **Data Management**: Full CRUD operations on stored data

------

## 9. Flutter Development Highlights

1. **Flutter 3.3.1+** with Material Design 3 for modern mobile development
2. **Provider Pattern**: Centralized state management with ScannerProvider
3. **Service Architecture**: Modular service design for maintainability
4. **Camera Integration**: Real-time camera preview and image capture
5. **OCR Processing**: Google ML Kit integration with Chinese text support
6. **AI Integration**: HTTP-based API calls with custom prompt support
7. **Cloud Storage**: Dual backend support (WebDAV/Azure) with abstraction
8. **Local Storage**: SharedPreferences for configuration persistence
9. **Error Handling**: Comprehensive error management with user feedback
10. **Responsive UI**: Adaptive design for various screen sizes
11. **CSV Processing**: Full CSV parsing and manipulation capabilities
12. **Permission Management**: Camera and storage permission handling
13. **Loading States**: Visual feedback during async operations
14. **Configuration Management**: Runtime settings with validation
15. **Cross-platform**: Single codebase for iOS and Android

------

## 10. Deployment & Environment

- **Platform Support**: iOS and Android with single codebase
- **Build Configuration**: Flutter build system with platform-specific optimizations
- **Dependencies**: Managed through pubspec.yaml with version control
- **Asset Management**: Organized asset structure for images and icons
- **Configuration**: Environment-agnostic with runtime configuration

------

## 11. Future Enhancements

- **Barcode Scanning**: Integration with barcode/QR code recognition
- **Offline Mode**: Enhanced offline capabilities with local database
- **Multi-language Support**: Internationalization for global deployment
- **Advanced AI Models**: Support for multiple AI providers and models
- **Real-time Sync**: Live data synchronization across devices
- **Analytics Dashboard**: Data visualization and reporting features
- **Batch Operations**: Bulk processing and data import/export
- **Advanced Validation**: Enhanced data validation and quality checks
- **Integration APIs**: REST API for external system integration
- **Cloud Functions**: Serverless processing for complex operations
- **Machine Learning**: Local ML models for improved accuracy
- **Voice Commands**: Voice-activated scanning and data entry
- **Augmented Reality**: AR overlay for product information display
- **Advanced Security**: Biometric authentication and encryption
- **Performance Optimization**: Enhanced processing speed and efficiency

------
